(self.webpackChunk=self.webpackChunk||[]).push([[535],{6842:(s,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>o});const a={name:"login",data:function(){return{email:"",password:"",passwordType:"password",emailMessage:"Email is required.",errors:!0}},created:function(){this.formReset()},mounted:function(){this.formReset()},methods:{login:function(){var s=this;axios.post("login",{params:{email:this.email,password:this.password}}).then((function(e){"Error"===e.data?s.$root.$emit("error",{modalTitle:"Login Error",modalText:"Email or password not found, please try again."}):(s.$root.$emit("login",{user:e.data.user}),$('meta[name="csrf-token"]').attr("content",e.data.token),window.axios.defaults.headers.common["X-CSRF-TOKEN"]=e.data.token),s.$emit("close-login")}))},setErrors:function(){$(".invalid-input").length>0==!0||!0===this.dataEmpty()?this.errors=!0:this.errors=!1},checker:function(s){""===s.target.value?(s.target.className="form-control invalid-input",this.setErrors()):(s.target.className="form-control valid-input",this.setErrors())},dataEmpty:function(){return""===this.password||""===this.email},togglePass:function(){"password"===this.passwordType?this.passwordType="text":this.passwordType="password"},isEmail:function(s){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.target.value)?(s.target.className="form-control valid-input",this.setErrors()):(s.target.className="form-control invalid-input",this.emailMessage="Email is required in valid format.",this.setErrors())},formReset:function(){this.email="",this.password="",this.passwordType="password",this.emailMessage="Email is required.",this.errors=!0,$(".form-control").each((function(s,e){($(e).hasClass("invalid-input")||$(e).hasClass("valid-input"))&&($(e).removeClass("invalid-input"),$(e).removeClass("valid-input"))}))},getPassword:function(){this.$emit("close-login"),this.$root.$emit("send-password")}}};const o=(0,t(1900).Z)(a,(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"modal-mask"},[t("div",{staticClass:"modal-wrapper"},[t("div",{staticClass:"modal-container"},[t("div",{staticClass:"modal-header"},[t("h3",[s._v("Login")]),s._v(" "),t("i",{staticClass:"fas fa-times modal-close",on:{click:function(e){return s.$emit("close-login")}}})]),s._v(" "),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"d-flex justify-content-between"},[t("div",{staticClass:"d-flex flex-column-reverse w-100 position-relative mr-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",name:"email",autocomplete:"off"},domProps:{value:s.email},on:{input:[function(e){e.target.composing||(s.email=e.target.value)},s.isEmail],blur:s.isEmail}}),s._v(" "),t("label",{attrs:{for:"email"}},[s._v("Email *")]),s._v(" "),t("i",{staticClass:"far fa-times-circle invalid-icon"}),s._v(" "),t("i",{staticClass:"far fa-check-circle valid-icon"}),s._v(" "),t("small",{staticClass:"invalid-text"},[s._v(s._s(s.emailMessage))])]),s._v(" "),t("div",{staticClass:"d-flex flex-column-reverse w-100 position-relative ml-2"},["checkbox"===s.passwordType?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"password form-control",attrs:{name:"password",autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(s.password)?s._i(s.password,null)>-1:s.password},on:{input:s.checker,blur:s.checker,change:function(e){var t=s.password,a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&(s.password=t.concat([null])):r>-1&&(s.password=t.slice(0,r).concat(t.slice(r+1)))}else s.password=o}}}):"radio"===s.passwordType?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"password form-control",attrs:{name:"password",autocomplete:"off",type:"radio"},domProps:{checked:s._q(s.password,null)},on:{input:s.checker,blur:s.checker,change:function(e){s.password=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"password form-control",attrs:{name:"password",autocomplete:"off",type:s.passwordType},domProps:{value:s.password},on:{input:[function(e){e.target.composing||(s.password=e.target.value)},s.checker],blur:s.checker}}),s._v(" "),t("label",{attrs:{for:"password"}},[s._v("Password *")]),s._v(" "),t("i",{class:"text"===s.passwordType?"fas fa-unlock-alt lock-icon":"fas fa-key lock-icon",on:{click:s.togglePass}}),s._v(" "),t("small",{staticClass:"invalid-text"},[s._v("Password is required.")])])]),s._v(" "),t("p",{staticClass:"mt-2 w-100 text-right pr-1 hover-underline",on:{click:s.getPassword}},[s._v("\n          Forgot your password?\n        ")])]),s._v(" "),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"default-button",attrs:{disabled:s.errors},on:{click:s.login}},[s._v("\n          Login\n        ")])])])])])}),[],!1,null,null,null).exports},1900:(s,e,t)=>{"use strict";function a(s,e,t,a,o,r,i,n){var l,c="function"==typeof s?s.options:s;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),i?(l=function(s){(s=s||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(s=__VUE_SSR_CONTEXT__),o&&o.call(this,s),s&&s._registeredComponents&&s._registeredComponents.add(i)},c._ssrRegister=l):o&&(l=n?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(s,e){return l.call(e),d(s,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:s,options:c}}t.d(e,{Z:()=>a})}}]);
//# sourceMappingURL=login.js.map