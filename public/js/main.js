(self.webpackChunk=self.webpackChunk||[]).push([[179],{2921:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n});const e={name:"app",filters:{curr_pref:function(t,a){return a+" "+parseFloat(t).toFixed(2)}},props:["identification","passwordToken"],data:function(){return{showLogin:!1,showRegister:!1,showResetPassword:!1,showSendPassword:!1,showDeposit:!1,errorModal:!1,successModal:!1,loggedIn:!1,isAdmin:!1,balance:1e3,user:void 0,currencySymbol:"£",currencyCode:"USD",currentRates:void 0,modalTitle:"",modalText:"",current_language:void 0,languages:void 0,loading:!0,tokenize:this.passwordToken,betEvents:void 0,odds_preference:!0}},watch:{odds_preference:function(t,a){this.loggedIn&&(axios.post("oddsPreference",{params:{pref:t}}),this.odds_preference=t)}},created:function(){this.getLanguage(),this.getStoradEvents()},mounted:function(){var t=this;""!==this.identification&&null!==this.identification&&void 0!==this.identification&&(this.user=JSON.parse(this.identification),this.balance=this.user.amount,1===parseInt(this.user.id)&&(this.isAdmin=!0),this.loggedIn=!0),""!==this.passwordToken&&null!==this.passwordToken&&void 0!==this.passwordToken&&(this.showResetPassword=!0),this.$root.$on("login",(function(a){1===parseInt(a.user.id)&&(t.isAdmin=!0),t.user=a.user,t.balance=a.user.amount,t.loggedIn=!0})),this.$root.$on("error",(function(a){t.modalTitle=a.modalTitle,t.modalText=a.modalText,t.errorModal=!0})),this.$root.$on("show-deposit",(function(a){t.showDeposit=!0})),this.$root.$on("remove-token",(function(a){t.tokenize=null})),this.$root.$on("success",(function(a){t.modalTitle=a.modalTitle,t.modalText=a.modalText,t.successModal=!0,axios.post("user").then((function(a){t.user=a.data,t.balance=a.data.amount,t.odds_preference=a.data.odds_pref}))})),this.$root.$on("send-password",(function(a){t.showSendPassword=!0})),this.$root.$on("show-login",(function(a){t.showLogin=!0})),this.$root.$on("odds-preference",(function(a){t.odds_preference=a.odds_pref})),this.$root.$on("update-slip",(function(a){t.odds_preference=a.odds_pref,localStorage.betEvents=JSON.stringify(a.betEvents),t.getStoradEvents()})),this.$root.$on("remove-slip",(function(a){for(var s=JSON.parse(localStorage.betEvents),e=0;e<s.length;e++)s[e].sportEvent.eventID===a.row.sportEvent.eventID&&s[e].betOdd.id===a.row.betOdd.id&&s.splice(e,1);for(var n=0;n<s.length;n++)t.betEvents[n].sportEvent.eventID===a.row.sportEvent.eventID&&t.betEvents[n].betOdd.id===a.row.betOdd.id&&t.betEvents.splice(n,1);a.row.elementId&&t.$root.$emit("update-bet",{sportEvent:a.row.sportEvent,betOdd:a.row.betOdd,elementId:a.row.elementId}),localStorage.betEvents=JSON.stringify(s),t.getStoradEvents()}))},methods:{logout:function(){this.user=void 0,this.balance=0,this.loggedIn=!1,axios.post("logout").then((function(t){$('meta[name="csrf-token"]').attr("content",t.data),window.axios.defaults.headers.common["X-CSRF-TOKEN"]=t.data})),"dashboard"!==this.$route.name&&"profile"!==this.$route.name&&"admin-bans"!==this.$route.name&&"admin-bets"!==this.$route.name&&"admin-rules"!==this.$route.name||this.$router.push({name:"sports"}),this.isAdmin=!1},getStoradEvents:function(){localStorage.betEvents&&(this.betEvents=JSON.parse(localStorage.betEvents))},getLanguage:function(){var t=this;axios.post("getLanguage").then((function(a){t.$root.$i18n.locale=a.data.current,t.current_language=a.data.current,t.languages=a.data.languages.filter((function(a){return a!==t.current_language})),t.loading&&(t.loading=!1)}))},changeLanguage:function(t){var a=this;axios.post("setLanguage",{params:{language:t}}).then((function(t){a.getLanguage()}))},currencySelect:function(t){var a=t.target.value.split("-"),s=a[0],e=a[1];this.currencyCode=e,this.currencySymbol=s}}};const n=(0,s(1900).Z)(e,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"main position"},[s("nav",{staticClass:"navbar navbar-expand-lg topbar"},[s("div",{staticClass:"collapse navbar-collapse"},[s("ul",{staticClass:"navbar-nav"},[s("router-link",{staticClass:"nav-item rounded-0",attrs:{to:{name:"rules",params:{}}}},[t._v("\n          "+t._s(t.$t("Game Rules"))+"\n        ")]),t._v(" "),t.isAdmin?s("router-link",{staticClass:"nav-item rounded-0",attrs:{to:{name:"dashboard",params:{}}}},[t._v("\n          "+t._s(t.$t("Dashboard"))+"\n        ")]):t._e(),t._v(" "),s("div",{staticClass:"language-trigger"},[s("img",{staticClass:"language",attrs:{src:"img/flags/"+t.current_language+".png",alt:t.current_language}}),t._v(" "),t._l(t.languages,(function(a){return s("img",{key:a,staticClass:"language",attrs:{src:"img/flags/"+a+".png",alt:a},on:{click:function(s){return t.changeLanguage(a)}}})}))],2)],1),t._v(" "),t.loggedIn?s("ul",{staticClass:"navbar-nav ml-auto"},[s("select",{staticClass:"form-control-sm text-white mr-2 border-0 bg-dark align-self-center",on:{change:t.currencySelect}},[s("option",{attrs:{value:"£-GBP",selected:""}},[t._v("\n            GBP\n          ")]),t._v(" "),s("option",{attrs:{value:"$-USD",disabled:""}},[t._v("\n            USD\n          ")]),t._v(" "),s("option",{attrs:{value:"€-EUR",disabled:""}},[t._v("\n            EUR\n          ")])]),t._v(" "),s("li",{staticClass:"nav-item rounded-0 p-2 d-flex align-items-center position-relative profile-trigger"},[s("div",{staticClass:"d-flex flex-column ml-3"},[s("span",[t._v(t._s(t.user.first_name))]),t._v(" "),s("small",{staticClass:"d-block ml-auto"},[t._v(t._s(t._f("curr_pref")(t.balance,t.currencySymbol)))])]),t._v(" "),s("img",{staticClass:"rounded-circle avatar ml-auto",attrs:{src:t.user.avatar,alt:"Avatar"}}),t._v(" "),s("ul",{staticClass:"profile-dropdown position-absolute"},[s("router-link",{staticClass:"profile-link",attrs:{to:{name:"profile",params:{}}}},[s("i",{staticClass:"far fa-user-circle mr-2"}),t._v(t._s(t.$t("Profile"))+"\n            ")]),t._v(" "),s("li",{on:{click:function(a){t.showDeposit=!0}}},[s("i",{staticClass:"far fa-credit-card mr-2"}),t._v(t._s(t.$t("Deposit"))+"\n            ")]),t._v(" "),s("li",{on:{click:t.logout}},[s("i",{staticClass:"fas fa-sign-out-alt mr-2"}),t._v(t._s(t.$t("Logout"))+"\n            ")])],1)])]):s("ul",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item rounded-0",on:{click:function(a){t.showLogin=!0}}},[t._v("\n          "+t._s(t.$t("Login"))+"\n        ")]),t._v(" "),s("li",{staticClass:"nav-item rounded-0",on:{click:function(a){t.showRegister=!0}}},[t._v("\n          "+t._s(t.$t("Register"))+"\n        ")])])])]),t._v(" "),s("nav",{staticClass:"navbar navbar-primary navbar-expand-lg"},[s("div",{staticClass:"navbar-translate"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"sports",params:{}}}},[s("img",{staticClass:"logo mr-3",attrs:{src:"img/logo.png",alt:"Bet2Gain logo"}}),t._v("Bet"),s("span",{staticClass:"text-accent"},[t._v("2Gain")])])],1),t._v(" "),s("div",{staticClass:"collapse navbar-collapse"},[s("ul",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item search-container pr-2"},[s("div",{staticClass:"search-box"},[s("form",{staticClass:"search-form"},[s("input",{staticClass:"form-control",attrs:{placeholder:"Search events...",type:"text"}}),t._v(" "),s("router-link",{staticClass:"btn btn-link search-btn",attrs:{to:{name:"search",params:{}}}},[s("i",{staticClass:"fa fa-search"})])],1)])])])])]),t._v(" "),s("nav",{staticClass:"navbar navbar-expand-lg sticky-top shadow-lg"},[s("div",{staticClass:"collapse navbar-collapse"},[s("ul",{staticClass:"navbar-nav"},[s("router-link",{staticClass:"nav-item",attrs:{to:{name:"sports",params:{}}}},[t._v("\n          "+t._s(t.$t("Sports"))+"\n        ")]),t._v(" "),s("router-link",{staticClass:"nav-item mx-3",attrs:{to:{name:"in-play",params:{}}}},[t._v("\n          "+t._s(t.$t("In-Play"))+"\n        ")]),t._v(" "),s("router-link",{staticClass:"nav-item",attrs:{to:{name:"contact",params:{}}}},[t._v("\n          "+t._s(t.$t("Contact Us"))+"\n        ")])],1),t._v(" "),t._m(0)])]),t._v(" "),t.tokenize?s("div",{staticClass:"main pages"}):t._e(),t._v(" "),s("transition",{attrs:{name:"component-fade",mode:"out-in"}},[s("router-view")],1),t._v(" "),s("div",{staticClass:"footer w-100 shadow-lg bg-dark text-light p-3"},[s("div",{staticClass:"d-flex justify-content-between align-items-center w-100"},[s("p",[t._v("Bet2Gain © 2021")]),t._v(" "),s("router-link",{staticClass:"ml-auto text-light p-2",attrs:{to:{name:"sports",params:{}}}},[t._v("\n        "+t._s(t.$t("Sports"))+"\n      ")]),t._v(" "),s("router-link",{staticClass:"mx-3 text-light p-2",attrs:{to:{name:"in-play",params:{}}}},[t._v("\n        "+t._s(t.$t("In-Play"))+"\n      ")]),t._v(" "),s("router-link",{staticClass:"text-light p-2",attrs:{to:{name:"contact",params:{}}}},[t._v("\n        "+t._s(t.$t("Contact Us"))+"\n      ")])],1)]),t._v(" "),s("transition",{attrs:{name:"modal"}},[t.showLogin?s("login",{on:{"close-login":function(a){t.showLogin=!1}}}):t._e()],1),t._v(" "),s("transition",{attrs:{name:"modal"}},[t.showRegister?s("register",{on:{"close-register":function(a){t.showRegister=!1}}}):t._e()],1),t._v(" "),s("transition",{attrs:{name:"modal"}},[t.showResetPassword?s("reset-password",{attrs:{"password-token":t.passwordToken},on:{"close-reset-password":function(a){t.showResetPassword=!1}}}):t._e()],1),t._v(" "),s("transition",{attrs:{name:"modal"}},[t.showSendPassword?s("send-password",{on:{"close-send-password":function(a){t.showSendPassword=!1}}}):t._e()],1),t._v(" "),s("transition",{attrs:{name:"modal"}},[t.showDeposit?s("deposit",{on:{"close-deposit":function(a){t.showDeposit=!1}}}):t._e()],1),t._v(" "),s("transition",{attrs:{name:"modal"}},[t.successModal?s("success",{attrs:{"modal-title":t.modalTitle,"modal-text":t.modalText},on:{"close-success":function(a){t.successModal=!1}}}):t._e()],1),t._v(" "),s("transition",{attrs:{name:"modal"}},[t.errorModal?s("error",{attrs:{"modal-title":t.modalTitle,"modal-text":t.modalText},on:{"close-error":function(a){t.errorModal=!1}}}):t._e()],1),t._v(" "),s("transition",{attrs:{name:"modal"}},[s("slip",{attrs:{"bet-events":t.betEvents,preference:t.odds_preference,user:t.user}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"})],1)}),[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",{staticClass:"navbar-nav ml-auto"},[s("a",{staticClass:"nav-item",attrs:{rel:"tooltip",title:"","data-placement":"bottom",href:"https://twitter.com",target:"_blank","data-original-title":"Follow us on Twitter"}},[s("i",{staticClass:"fa fa-twitter"})]),t._v(" "),s("a",{staticClass:"nav-item",attrs:{rel:"tooltip",title:"","data-placement":"bottom",href:"https://www.facebook.com",target:"_blank","data-original-title":"Like us on Facebook"}},[s("i",{staticClass:"fa fa-facebook-square"})]),t._v(" "),s("a",{staticClass:"nav-item",attrs:{rel:"tooltip",title:"","data-placement":"bottom",href:"https://www.instagram.com",target:"_blank","data-original-title":"Follow us on Instagram"}},[s("i",{staticClass:"fa fa-instagram"})])])}],!1,null,null,null).exports},1900:(t,a,s)=>{"use strict";function e(t,a,s,e,n,o,r,i){var l,c="function"==typeof t?t.options:t;if(a&&(c.render=a,c.staticRenderFns=s,c._compiled=!0),e&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=i?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,a){return l.call(a),d(t,a)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}s.d(a,{Z:()=>e})}}]);
//# sourceMappingURL=main.js.map