(self.webpackChunk=self.webpackChunk||[]).push([[158],{175:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const n={name:"slip",props:["betEvents","preference","user"],data:function(){return{finalEvents:void 0,odds_preference:!0,loading:!0,totalOdds:0,betAmount:1,oddsElements:[],miniSlip:!1,oddsChanged:!0,iterator:0,tooltipOptions:{template:""}}},computed:{totalWin:function(){return(parseFloat(this.totalOdds)*parseFloat(this.betAmount)).toFixed(2)}},watch:{betEvents:function(t,e){var s=this;this.oddsElements=[],this.finalEvents=t,this.finalEvents.forEach((function(t,e){s.oddsElements[e]=s.fractionToFloat(t.betOdd.odd)})),this.totalOdds=this.oddsElements.reduce((function(t,e){return parseFloat(t)+parseFloat(e)}),0),this.finalEvents.length<1&&this.restartSlip()},preference:function(t,e){this.odds_preference=t}},mounted:function(){this.loading=!1},methods:{restartSlip:function(){this.finalEvents=void 0,this.totalOdds=0,this.betAmount=1},validateOdds:function(){var t;return 0===this.iterator?(t={success:!0},this.iterator=this.iterator+1):(this.iterator=this.iterator-1,t={success:!1}),t},toggleSlip:function(t){this.miniSlip=!this.miniSlip},removeBet:function(t){this.$root.$emit("remove-slip",{row:t})},placeBet:function(){var t=this;this.user?parseFloat(this.user.amount).toFixed(2)>this.betAmount?this.validateOdds().success?(this.oddsChanged=!0,axios.post("new-slip",{params:{events:this.finalEvents,amount:this.betAmount}}).then((function(e){t.$root.$emit("success",{modalTitle:"Slip created",modalText:"Your bet of £"+t.betAmount+" is successfuly placed!"}),localStorage.removeItem("betEvents"),t.restartSlip(),$(".odd-span").each((function(t,e){$(e).hasClass("active")&&$(e).removeClass("active")}))})).catch((function(t){console.error(t)}))):this.oddsChanged=!1:(this.$root.$emit("show-deposit"),this.miniSlip=!0):(this.$root.$emit("show-login"),this.miniSlip=!0)},fractionToFloat:function(t){var e=t.split("/");return parseFloat(parseInt(e[0])/parseInt(e[1])).toFixed(2)},floatToFraction:function(t){var e=t.toString().length-2,s=Math.pow(2,e),n=t*s,i=function t(e,s){return s<.01?e:t(s,Math.floor(e%s))}(n,s);return n/=i,s/=i,Math.floor(n)+"/"+Math.floor(s)}}};const i=(0,s(1900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.finalEvents?s("div",{ref:"slipMain",staticClass:"slip shadow-lg"},[s("movable",{staticClass:"slip-header d-flex w-100 p-3 border-bottom text-white",class:t.miniSlip?"mini":null,attrs:{target:"slipMain","pos-top":"0","pos-left":"0"}},[s("h4",[t._v("\n      Bet Slip\n    ")])]),t._v(" "),s("div",{staticClass:"d-flex position-relative float-right mover",on:{click:t.restartSlip}},[s("i",{staticClass:"fas fa-2x fa-times"})]),t._v(" "),s("div",{staticClass:"d-flex position-relative float-right mover",on:{click:t.toggleSlip}},[s("i",{staticClass:"fas fa-2x",class:t.miniSlip?"fa-plus":"fa-minus"})]),t._v(" "),s("div",{staticClass:"slip-container w-100 d-flex flex-column",class:t.miniSlip?"mini":null},[s("div",{staticClass:"limiter shadow-lg"},t._l(t.finalEvents,(function(e,n){return s("div",{key:n,staticClass:"d-flex border-bottom border-dark game-container px-3 py-2 w-100"},[s("div",{staticClass:"d-flex flex-column w-75"},t._l(e.sportEvent.teams,(function(e){return s("p",{key:e.id,staticClass:"text-white"},[t._v("\n            "+t._s(e.name)+"\n          ")])})),0),t._v(" "),e.betOdd.tagOrExtraData?s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"<div class='d-flex flex-column'>\n            <small>"+e.sportEvent.markets[0].name+"</small>\n            <small class='my-2'>"+e.betOdd.alternativeName+"</small>\n            <p class='text-accent font-weight-bold'>"+e.betOdd.name+"</p>\n            <small class='mt-3'>"+e.betOdd.handicap+"</small>\n          </div>"},expression:"{ content:\n          `<div class='d-flex flex-column'>\n            <small>` + game.sportEvent.markets[0].name + `</small>\n            <small class='my-2'>` + game.betOdd.alternativeName + `</small>\n            <p class='text-accent font-weight-bold'>` + game.betOdd.name + `</p>\n            <small class='mt-3'>` + game.betOdd.handicap + `</small>\n          </div>` }"}],staticClass:"d-flex justify-content-center align-items-center px-4"},[s("i",{staticClass:"fas fa-info"})]):s("div",{staticClass:"d-flex justify-content-center align-items-center ml-3"},[e.betOdd.alternativeName?s("p",{staticClass:"text-right"},[t._v("\n            "+t._s(e.betOdd.alternativeName)+"\n          ")]):s("p",{staticClass:"text-right"},[t._v("\n            "+t._s(e.betOdd.name)+"\n          ")])]),t._v(" "),s("div",{staticClass:"d-flex justify-content-center align-items-center ml-auto"},[s("p",{staticClass:"text-right"},[t._v("\n            "+t._s(t.odds_preference?e.betOdd.odd:t.fractionToFloat(e.betOdd.odd))+"\n          ")])]),t._v(" "),s("div",{staticClass:"slip-close",on:{click:function(s){return t.removeBet(e)}}},[s("i",{staticClass:"fas fa-times"})])])})),0),t._v(" "),s("div",{staticClass:"p-3"},[s("div",{staticClass:"justify-content-between align-items-center w-100 mt-2 px-1",class:t.oddsChanged?"d-none":"d-flex"},[s("p",{staticClass:"text-left text-danger font-weight-bold"},[t._v("\n          Odds changed. Do you accept changes?\n        ")]),t._v(" "),s("a",{staticClass:"ml-auto mr-3 text-white link",on:{click:t.placeBet}},[t._v("Yes")]),t._v(" "),s("a",{staticClass:"text-white link",on:{click:function(e){t.oddsChanged=!0}}},[t._v("No")])]),t._v(" "),s("div",{staticClass:"d-flex justify-content-between w-100 mt-2 px-1"},[s("p",{staticClass:"text-left"},[t._v("\n          Total Odd:\n        ")]),t._v(" "),s("p",{staticClass:"text-right"},[t._v("\n          "+t._s(t.odds_preference?t.floatToFraction(t.totalOdds):t.totalOdds.toFixed(2))+"\n        ")])]),t._v(" "),s("div",{staticClass:"d-flex justify-content-between w-100 my-2 px-1"},[s("p",{staticClass:"text-left"},[t._v("\n          Total Win:\n        ")]),t._v(" "),s("p",{staticClass:"text-right font-weight-bold win",class:t.betAmount>10?"text-success":null},[t._v("\n          £ "+t._s(t.totalWin)+"\n        ")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.betAmount,expression:"betAmount",modifiers:{number:!0}}],staticClass:"form-control my-2",attrs:{type:"number"},domProps:{value:t.betAmount},on:{input:function(e){e.target.composing||(t.betAmount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),s("button",{staticClass:"btn btn-primary btn-block my-2",attrs:{disabled:t.betAmount<=0},on:{click:function(e){return e.preventDefault(),t.placeBet(e)}}},[t._v("\n        Bet\n      ")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"})],1):t._e()}),[],!1,null,null,null).exports},1900:(t,e,s)=>{"use strict";function n(t,e,s,n,i,a,o,l){var r,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=s,d._compiled=!0),n&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),o?(r=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=r):i&&(r=l?function(){i.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:i),r)if(d.functional){d._injectStyles=r;var c=d.render;d.render=function(t,e){return r.call(e),c(t,e)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,r):[r]}return{exports:t,options:d}}s.d(e,{Z:()=>n})}}]);
//# sourceMappingURL=slip.js.map